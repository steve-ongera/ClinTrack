<!-- ========================================== -->
<!-- reports/reports_index.html -->
<!-- ========================================== -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Reports - ClinTrack{% endblock %}

{% block content %}
<div class="content-wrapper">
  <div class="page-header">
    <h3 class="page-title">Reports Dashboard</h3>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
        <li class="breadcrumb-item active">Reports</li>
      </ol>
    </nav>
  </div>

  <div class="row">
    <!-- Enrollment Reports -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <div class="card-header">
            <h4>
              <i class="bi bi-people"></i>
              Enrollment Reports
            </h4>
          </div>

          <div class="report-list">
            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-bar-chart"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Monthly Enrollment Summary</div>
                <div class="report-description">Participant enrollment trends by month</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-graph-up"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Enrollment by Study</div>
                <div class="report-description">Breakdown of participants across all studies</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-pie-chart"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Demographics Report</div>
                <div class="report-description">Participant demographics and distribution</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SUSAR Reports -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <div class="card-header">
            <h4>
              <i class="bi bi-exclamation-triangle"></i>
              SUSAR Reports
            </h4>
          </div>

          <div class="report-list">
            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-clipboard-data"></i>
              </div>
              <div class="report-info">
                <div class="report-title">SUSAR Summary Report</div>
                <div class="report-description">Overview of all reported SUSARs</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-activity"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Severity Analysis</div>
                <div class="report-description">SUSAR events by severity level</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-clock-history"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Pending Follow-ups</div>
                <div class="report-description">SUSARs requiring follow-up action</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Study Reports -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <div class="card-header">
            <h4>
              <i class="bi bi-flask"></i>
              Study Reports
            </h4>
          </div>

          <div class="report-list">
            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-list-check"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Active Studies Overview</div>
                <div class="report-description">Status of all active clinical studies</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-calendar-check"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Study Timeline Report</div>
                <div class="report-description">Study start/end dates and milestones</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-bullseye"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Enrollment vs Target</div>
                <div class="report-description">Actual enrollment compared to targets</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Staff Reports -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <div class="card-header">
            <h4>
              <i class="bi bi-person-badge"></i>
              Staff Reports
            </h4>
          </div>

          <div class="report-list">
            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-calendar3"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Attendance Summary</div>
                <div class="report-description">Staff attendance and login statistics</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-activity"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Staff Activity Report</div>
                <div class="report-description">User actions and contributions</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>

            <div class="report-item">
              <div class="report-icon">
                <i class="bi bi-person-check"></i>
              </div>
              <div class="report-info">
                <div class="report-title">Role Distribution</div>
                <div class="report-description">Breakdown of staff by role</div>
              </div>
              <div class="report-actions">
                <button class="btn btn-sm btn-primary">
                  <i class="bi bi-eye"></i>
                  View
                </button>
                <button class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-download"></i>
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Custom Report Generator -->
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="card-header">
            <h4>
              <i class="bi bi-sliders"></i>
              Custom Report Generator
            </h4>
          </div>

          <form method="post" class="custom-report-form">
            {% csrf_token %}
            
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label>Report Type</label>
                  <select class="form-control" name="report_type">
                    <option value="">Select type...</option>
                    <option value="enrollment">Enrollment</option>
                    <option value="susar">SUSAR</option>
                    <option value="study">Study</option>
                    <option value="staff">Staff</option>
                  </select>
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group">
                  <label>Date From</label>
                  <input type="date" class="form-control" name="date_from">
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group">
                  <label>Date To</label>
                  <input type="date" class="form-control" name="date_to">
                </div>
              </div>

              <div class="col-md-3">
                <div class="form-group">
                  <label>Format</label>
                  <select class="form-control" name="format">
                    <option value="pdf">PDF</option>
                    <option value="excel">Excel</option>
                    <option value="csv">CSV</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-file-earmark-text"></i>
                Generate Report
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
{% endblock %}